% Basic Packages
\usepackage{pdfpages}  
\usepackage{hyperref}
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}}
\usepackage{array}
\usepackage{float}
\floatplacement{table}{H}
\usepackage{tikz}
\usetikzlibrary{arrows.meta, positioning, calc}
\usepackage{caption}
\captionsetup{justification=raggedright, singlelinecheck=false, parskip=0pt}
\usepackage{pdflscape}
\usepackage{afterpage}
\usepackage{lscape}
\usepackage{setspace}
\usepackage{indentfirst}
\usepackage{longtable}
\usepackage{etoolbox}
\usepackage{threeparttable}

% APA-style Figure and Table Captions
\DeclareCaptionFormat{APAfigure}{\raggedright\textbf{Figure~\thefigure}\\[1.5\baselineskip]\textit{#3}}
\captionsetup[figure]{format=APAfigure, labelsep=none, justification=raggedright}
\DeclareCaptionFormat{APAlongtable}{\textbf{Table~\thetable}\\[1.5\baselineskip]\textit{#3}}
\captionsetup[table]{format=plain, justification=raggedright, singlelinecheck=false, labelfont=bf, labelsep=none, skip=0pt}
\captionsetup[longtable]{format=APAlongtable, labelformat=empty, justification=raggedright, singlelinecheck=false, skip=0pt}
\setlength{\LTpre}{0pt}
\setlength{\LTpost}{0pt}

% Ensure longtable aligns with text margins
\setlength{\LTleft}{\fill}
\setlength{\LTright}{\fill}

\setlength{\tabcolsep}{4pt}  % Default is 6pt; reducing it saves space

\usepackage{adjustbox}



% Custom Commands
\newcommand{\blandscape}{\begin{landscape}}
\newcommand{\elandscape}{\end{landscape}}
\newenvironment{fignote}{\par\vspace{\baselineskip}\small\textit{Note.}\space}{}


\renewcommand\TPTnoteSettings{\gdef\TPTnoteFont{\footnotesize}\setlength\parindent{0pt}}

\newcommand{\negvspace}[1]{\vspace{-#1}}


% Paragraph Indentation and Spacing
\setlength{\parindent}{1.27cm}  % 0.5-inch paragraph indent for new paragraphs
\setlength{\parskip}{0pt}  % No additional spacing between paragraphs
\linespread{1.5}  % Line spacing

% Ensure paragraph indentation within landscape environments
\AtBeginEnvironment{landscape}{\setlength{\parindent}{1.27cm}}

% APA7 Section Formatting using KOMA-Script
\RedeclareSectionCommand[
  beforeskip=0.75\baselineskip,  % Reduce spacing before the heading
  afterskip=0.75\baselineskip,   % Reduce spacing after the heading
  font=\normalfont\bfseries\centering
]{section}

\RedeclareSectionCommand[
  beforeskip=0.75\baselineskip,
  afterskip=0.75\baselineskip,
  font=\normalfont\bfseries\flushleft
]{subsection}

\RedeclareSectionCommand[
  beforeskip=0.4\baselineskip,
  afterskip=0.4\baselineskip,
  font=\normalfont\bfseries\itshape\flushleft
]{subsubsection}

\RedeclareSectionCommand[
  beforeskip=0.4\baselineskip,
  afterskip=0.4\baselineskip,
  indent=\parindent,
  font=\normalfont\bfseries,
  runin=true  % Run-in heading with the paragraph
]{paragraph}

\RedeclareSectionCommand[
  beforeskip=0.4\baselineskip,
  afterskip=0.4\baselineskip,
  indent=\parindent,
  font=\normalfont\bfseries\itshape,
  runin=true  % Run-in heading with the paragraph
]{subparagraph}
